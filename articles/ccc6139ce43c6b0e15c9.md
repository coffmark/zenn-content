---
title: "Swift AVFoundationã‚’ä½¿ã£ã¦ç„¡éŸ³ã‚«ãƒ¡ãƒ©ã‚’å®Ÿè£…ã™ã‚‹"
emoji: "ğŸ”•"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift", "AVFoundation"]
published: true
---

# Swift AVFoundationã‚’ç”¨ã„ã¦ç„¡éŸ³ã‚«ãƒ¡ãƒ©ã‚’å®Ÿè£…ã™ã‚‹

ã“ã‚“ã«ã¡ã¯ã€Ryosuke Kamimuraã§ã™ã€‚

ä»Šå›ã¯AVFoundationã‚’ç”¨ã„ã¦ç„¡éŸ³ã‚«ãƒ¡ãƒ©ã‚’å®Ÿè£…ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å‹•ä½œç¢ºèªã—ã¦ã„ã¾ã™ã€‚
```
Xcode  12.4
iOS  14
```

## å®Ÿè£…
AVFoundationã‚’ç”¨ã„ã¦å†™çœŸã‚’æ’®å½±ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚¯ãƒ©ã‚¹ã‚’æ›¸ã„ãŸå¾Œã«ã€ä»¥ä¸‹ã‚’ã‚³ãƒ¼ãƒ‰ã§Delegateã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/z68s1rdxl7mlu7zmutaastnt0epx)

AVCapturePhotoCaptureDelegateãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã³å‡ºã•ã‚ŒãŸæ™‚ã«ã€`willCapturePhotoFor`ã§ã‚·ã‚¹ãƒ†ãƒ ã‚µã‚¦ãƒ³ãƒ‰ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã®ã“ã¨ã§ã—ãŸã€‚

```swift: AVFoundation.swift
extension PhotoCapture: AVCapturePhotoCaptureDelegate {
  func photoOutput(_ output: AVCapturePhotoOutput, willCapturePhotoFor resolvedSettings: AVCaptureResolvedPhotoSettings) {
    AudioServicesDisposeSystemSoundID(1108)
  }
}
```

ã“ã®ã‚ˆã†ãªãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’å«ã‚“ã Extensionã‚’è¨˜è¿°ã™ã‚‹ã¨ã€ã‚·ã‚¹ãƒ†ãƒ éŸ³ã‚’ç ´æ£„ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


ä»¥ä¸Šã§ã™ã€‚æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

é–“é•ã„ãªã©ã‚ã‚Šã¾ã—ãŸã‚‰ã€ã‚³ãƒ¡ãƒ³ãƒˆã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚

## å‚è€ƒ
https://stackoverflow.com/questions/4401232/avfoundation-how-to-turn-off-the-shutter-sound-when-capturestillimageasynchrono

https://gist.github.com/trilliwon/2d39f95f8fe0d5a943421290322111ad

https://developer.apple.com/documentation/avfoundation/avcapturephotocapturedelegate

---

Github URL: https://github.com/RyosukeKamimura

Twitter URL: https://twitter.com/Ryosuke_Kamimur