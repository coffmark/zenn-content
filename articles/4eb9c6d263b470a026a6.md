---
title: "RxSwiftでbindが何をしているのか調べたのでメモ"
emoji: "🔖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Swift","RxSwift"]
published: false
---

// picture
このようにTextFieldが2つあります
今回はこの例を用いて実装してみたいと思います


```swift: TextFieldViewModel
class TextFieldViewModel: TextFieldViewModelType, TextFieldViewModelInputs, TextFieldViewModelOutputs {
    var inputs: TextFieldViewModelInputs { return self }
    var outputs: TextFieldViewModelOutputs { return self }
    // MARK: Inputs
    var lastNameTrigger = PublishRelay<String>()
    var firstNameTrigger = PublishRelay<String>()
    // 省略
   }
}
```

```swift: TextFieldViewController
class TextFieldViewController: UIViewController {
    override func viewDidLoad() {
        firstNameTextField.rx.text.orEmpty
            .bind(to: viewModel.inputs.firstNameTrigger)
            .disposed(by: disposedBag)

        lastNameTextField.rx.text.orEmpty
            .subscribe({ [weak self] event in
                switch event {
                case .next(let element):
                    print("name text にaccept")
                    self?.viewModel.inputs.lastNameTrigger.accept(element)
                case .error(_):
                    break
                case .completed:
                    break
                }
            })
            .disposed(by: disposedBag)
    }
}
```

firstNameTextFieldとlastNameTextFieldで同じ挙動を示します
`bind(to:)`の実態は内部で`subscribeをして、accpetで値を流しているだけです

実際には`bind(to: )`にはObserverが複数個入ることができたりするので実際のコードとは少し違ったりします

https://github.com/ReactiveX/RxSwift/blob/5740d313d0c08c6ecaf47da34262e512a6cd3101/RxRelay/Observable%2BBind.swift#L43-L55

最後まで読んでいただきありがとうございました。