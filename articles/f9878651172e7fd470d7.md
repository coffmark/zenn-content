---
title: "fastlaneã‚’è©¦ã—ã¦ã¿ãŸã„"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["fastlane"]
published: false
---

# fastlaneã‚’è©¦ã—ã¦ã¿ãŸã„

fastlaneã¯iOSã¨Androidãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å‘ã‘ã®ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•åŒ–ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã€‚

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã®ã§ã”è‡ªç”±ã«

# fastlaneã®åˆã‚ã‹ãŸ

Swiftã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸Šã§`fastlane init`ã‚’å®Ÿè¡Œã™ã‚‹ã¨

# fastlaneã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹

fastlaneãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰Fastfileã‚’é–‹ãã¾ã™ã€‚

ãã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã‚‹ã¨fastlaneã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


```ruby
# This file contains the fastlane.tools configuration
# You can find the documentation at https://docs.fastlane.tools
#
# For a list of all available actions, check out
#
#     https://docs.fastlane.tools/actions
#
# For a list of all available plugins, check out
#
#     https://docs.fastlane.tools/plugins/available-plugins
#

# Uncomment the line if you want fastlane to automatically update itself
# update_fastlane

default_platform(:ios)

platform :ios do
  desc "Hello World! fastlane"
  lane :hello do
    puts("Hello World!")
    # add actions here: https://docs.fastlane.tools/actions
  end
end


```

## å®Ÿè¡Œæ–¹æ³•

`fastlane hello`
`fastlane <ãƒ¬ãƒ¼ãƒ³å>`ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


```
tarted/ios/setup/#use-a-gemfile
[20:11:16]: ------------------------------
[20:11:16]: --- Step: default_platform ---
[20:11:16]: ------------------------------
[20:11:16]: Driving the lane 'ios hello' ğŸš€
[20:11:16]: Hello World!

+------+------------------+-------------+
|           fastlane summary            |
+------+------------------+-------------+
| Step | Action           | Time (in s) |
+------+------------------+-------------+
| 1    | default_platform | 0           |
+------+------------------+-------------+

[20:11:16]: fastlane.tools finished successfully ğŸ‰
```

`fastlane actions`ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸€è¦§ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹

## ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œæ–¹æ³•
- FastFileå†…ã‹ã‚‰å‘¼ã³å‡ºã™
- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã™ã‚‹

## fastlaneã«ç”¨æ„ã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹

- ãƒ“ãƒ«ãƒ‰ â†’build_ios_app
- ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ â†’ run_tests
- AppStoreã®ãƒ‡ãƒ¼ã‚¿æ›´æ–° â†’ upload_to_app_store

### build_ios_appã‚’åˆ©ç”¨ã—ãŸipaãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
```ruby
default_platform(:ios)

platform :ios do
  desc "Debugãƒ“ãƒ«ãƒ‰"
  lane :build do
    # ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å‘¼ã³å‡ºã—
    build_ios_app(
      workspace: "NextBookToBuy.xcworkspace",
      scheme: "MyScheme",
      configuration: "Debug",
      clean: true,
      output_directory: "build",
      output_name: "NextBookToBuy_dubug.ipa"
    )
  end
end
```


### run_testsã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

```ruby
platform :ios do
  desc "å˜ä½“ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ"
  lane :unittest do
    run_tests(
      workspace: "NextBookToBuy.xcworkspace",
      scheme: "UnitTest",
      configuration: "Debug",
      clean: true,
      devices: ["iPhone X"],
      open_report: true,
      output_types: "html,junit",
      output_directory: "test"
    )
  end
end
```

ä¸Šè¨˜ã®ã‚ˆã†ã«ãƒ¬ãƒ¼ãƒ³ã‚’ä½œæˆã—ã¦ã‚‚è‰¯ã„ã®ã ãŒã€Scanfileã‚’åˆ©ç”¨ã—ã¦ã‚‚è‰¯ã„

`fastlane scan init`

```
workspace("NextBookToBUy.xcworkspace")
scheme("UnitTest")
configuration("Debug")
clean(true)
devices(["iPhone 12"])
open_report(true)
output_types("html,junit")
output_directory("test")
```

`fastlane scan`ã§Scanfileã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹

### AppStoreæƒ…å ±ã®æ›´æ–°

`fastlane deliver init`ã§AppStoreæƒ…å ±ã®æ›´æ–°ãŒã§ãã¾ã™ã€‚

